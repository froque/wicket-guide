<!DOCTYPE html>
<html>
<head>
    <title>Apache Wicket - Using the DropDownChoice component</title>

	<link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen" />

    <!--[if lt ie 7]>
	<link rel="stylesheet" href="/css/ie.css" type="text/css" media="screen" />
    <![endif]-->
    <link rel="shortcut icon" href="/favicon.ico" type="image/vnd.microsoft.icon" />
	<link rel="alternate" type="application/atom+xml" href="/atom.xml" />
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
</head>
<body>
<div id="container">
    <div id="content">
        <div id="header"><a href="/"><h1 id="logo"><span>Apache Wicket</span></h1></a></div>
		<div id="navigation">
	<h5><a name="Navigation-Wicket"></a>Meet Wicket</h5>
	<ul>
		<li>
			<a href="/" title="Index">Home</a>
		</li>
		<li>
			<a href="/meet/introduction.html" title="Introduction">Introduction</a>
		</li>
		<li>
			<a href="/meet/features.html" title="Features">Features</a>
		</li>
		<li>
			<a href="/meet/buzz.html" title="Buzz">Buzz</a>
		</li>
		<li>
			<a href="/meet/vision.html" title="Vision">Vision</a>
		</li>
		<li>
			<a href="/meet/blogs.html" title="Blogs">Blogs</a>
		</li>
	</ul>
	<h5>
		<a name="Navigation-GettingStarted" id="Navigation-GettingStarted"></a>Get Started
	</h5>
	<ul>
		<li>
			<a href="/start/download.html" title="Download Wicket">Download Wicket</a>
		</li>
		<li>
			<a href="/start/quickstart.html" title="Getting started via a Maven Archetype">Quickstart</a>
		</li>
		<li>
			<a href="http://www.jweekend.com/dev/LegUp" rel="nofollow">More archetypes</a>
		</li>
		<li>
			<a href="/help" title="Get help">Get help</a>
		</li>
	</ul>
	<h5>
		<a name="Navigation-Documentation" id="Navigation-Documentation"></a>Learn
	</h5>
	<ul>
		<li>
			<a href="/learn/examples" title="Examples">Examples</a>
		</li>
		<li>
			<a href="http://wicketstuff.org/wicket14/compref/">Components</a>
		</li>
		<li>
			<a href="/learn/projects/" title="Projects extending basic Wicket">Projects</a>
		</li>
		<li>
			<a href="http://cwiki.apache.org/WICKET">Wiki</a>
		</li>
		<li>
			<a href="http://cwiki.apache.org/WICKET/reference-library.html">Reference guide</a>
		</li>
		<li>
			<a href="/learn/books" title="Books">Books</a>
		</li>
		<li>
			<a href="/learn/ides.html" title="IDEs">IDE plugins</a>
		</li>
	</ul>
	<h5>
		<a name="Navigation-Releases" id="Navigation-Releases"></a>Releases
	</h5>
	<ul>
		<li>
			<a href="http://www.apache.org/dyn/closer.cgi/wicket/1.4.16">Wicket 1.4</a>
			(<a href="http://wicket.apache.org/apidocs/1.4" title="JavaDocs of the latest stable release - 1.4.x">docs</a>)
		</li>
		<li>
			<a href="http://www.apache.org/dyn/closer.cgi/wicket/1.3.7">Wicket 1.3</a>
			(<a href="http://wicket.apache.org/apidocs/1.3" title="JavaDocs of Apache Wicket 1.3.x">docs</a>)
		</li>
		<li>
			<a href="http://wicket.sf.net/wicket-1.2" class="external-link" rel="nofollow">Wicket 1.2</a>
		</li>
		<li>
			<a href="http://wicket.sf.net/wicket-1.1" class="external-link" rel="nofollow">Wicket 1.1</a>
		</li>
		<li>
			<a href="http://wicket.sf.net/wicket-1.0" class="external-link" rel="nofollow">Wicket 1.0</a>
		</li>
	</ul>
	<h5>
		<a name="Navigation-Developers" id="Navigation-Developers"></a>Contribute
	</h5>
	<ul>
		<li>
			<a href="/contribute/write.html" title="Writing documentation">Writing docs</a>
		</li>
		<li>
			<a href="/contribute/build.html" title="Building from SVN">Build Wicket</a>
		</li>
		<li>
			<a href="/contribute/patch.html" title="Provide a patch">Provide a patch</a>
		</li>
		<li>
			<a href="/contribute/release.html" title="Release Wicket">Release Wicket</a>
		</li>
		<li>
			<a href="http://fisheye6.atlassian.com/browse/wicket" title="SVN Overview" class="external-link" rel="nofollow">Fisheye</a>
		</li>
	</ul>
	<h5>
		<a name="Navigation-Apache" id="Navigation-Apache"></a>Apache
	</h5>
	<ul>
		<li>
			<a href="http://www.apache.org/" class="external-link" rel="nofollow">Apache</a>
		</li>
		<li>
			<a href="http://www.apache.org/licenses/" class="external-link" rel="nofollow">License</a>
		</li>
		<li>
			<a href="http://www.apache.org/foundation/sponsorship.html" class="external-link" rel="nofollow">Sponsorship</a>
		</li>
		<li>
			<a href="http://apache.org/foundation/thanks.html" class="external-link" rel="nofollow">Thanks</a>
		</li>
	</ul>
</div>

		<div id="contentbody">
			<h1>Using the DropDownChoice component</h1>
			<p>One of the most problematic components for beginners of Wicket is the <code>DropDownChoice</code> component. In this example we will work the component to give a little more insight into its workings. This example requires that you have some understanding of the Wicket component model (nothing fancy though, but you might want to read the other examples first), and the Model concept used in Wicket (you can read more on models <a href='http://cwiki.apache.org/WICKET/working-with-wicket-models.html'>here</a>.</p>

<h2 id='the_example_domain'>The example domain</h2>

<p>The <code>DropDownChoice</code> component is typically used <em>inside</em> a form. This example will expand on that usage. The component is particularly designed to work with objects. So let&#8217;s say we have a list of people and we want to select the manager of an employee.</p>

<h2 id='the_assign_manager_page'>The assign manager page</h2>

<p>Next we want to create a page where we assign a manager to an employee. This is how the page would look like in HTML:</p>

<p>This page has three components:</p>

<ul>
<li>a form (needed to process the input),</li>

<li>a label (to show the name of the employee) and</li>

<li>a select box for picking the manager.</li>
</ul>

<p>We will focus on the select box, because that will be our drop down choice. The <code>&lt;option&gt;</code> tags are there for preview, our component will replace them with the generated choices.</p>

<p>Let&#8217;s see how the page looks like from the Java side:</p>

<p>In this example you see that we add the <code>DropDownChoice</code> to the form, and provide it with 3 parameters. The first is the component identifier. The second is the item that needs to be updated, in this case the <code>managedBy</code> field of the <code>employee</code>. The third parameter is a <code>LoadableDetachableModel</code> that retrieves the list of available choices.</p>

<p>Note that the <code>DropDownChoice</code> component has many constructors, and that you need to read the JavaDoc documentation to pick the right one for you.</p>

<p>This generates (basically) the following markup when the list of managers is Kyle Brovlovski, Stan Marsh, Eric Cartman, and Kenny McCormick:</p>

<p>As you can see from this markup is that Wicket added the items of the managers list and numbered the values of the options. These are the indexes of the items in the list. If the order of the list can change between requests, <em>or</em> if the list itself can change, then please use an <code>IChoiceRenderer</code>.</p>

<h2 id='selecting_a_choice'>Selecting a choice</h2>

<p>Now if a user selects a value and submits the form, Wicket will assign the manager to the employee (the <code>PropertyModel</code> takes care of that). The following list shows what basically happens:</p>

<ol>
<li>create new Employee, with <code>null</code> for its manager</li>

<li>create AssignManagerPage with the employee</li>

<li>render page, selected value is <code>&quot;Choose one&quot;</code></li>

<li>user selects &#8220;Eric Cartman&#8221; and submits form</li>

<li>Wicket assigns manager &#8220;Eric Cartman&#8221; to <code>managedBy</code> field of the employee</li>
</ol>

<p>So there is no need for getting or setting the value from the drop down component: Wicket binds directly to your domain objects if you use the correct models.</p>

<h2 id='selecting_a_default_choice'>Selecting a default choice</h2>

<p>If you want to select a default value for the manager, then all you need to do is assign the default manager to the employee and Wicket will take care of the rest:</p>

<h2 id='summary'>Summary</h2>

<p>This concludes the (small) example of using a <code>DropDownChoice</code> component correctly. The ideas behind Wicket are perfectly reflected in this component: work with your domain objects, bind them to your components and get on with the rest of your application.</p>
		</div>
        <div id="clearer"></div>
		<div id="footer"><span>
Copyright &copy; 2010 &mdash; The Apache Software Foundation. Apache Wicket,
Wicket, Apache, the Apache feather logo, and the Apache Wicket project logo
are trademarks of The Apache Software Foundation. All other marks mentioned
may be trademarks or registered trademarks of their respective owners.
</span></div>

    </div>
</div>
</body>
</html>
